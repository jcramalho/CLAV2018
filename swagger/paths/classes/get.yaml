summary: Devolve as classes em vários formatos podendo ser filtradas por nível e por tipo ou verifica se um código e/ou título já está atribuido a uma classe.
security:
  - apiKeyQuery: []
  - apiKeyAuth: []
  - userQuery: []
  - userAuth: []
tags:
  - classes
description: "Devolve as classes em vários formatos podendo ser filtradas por nível e por tipo. Existe uma hierarquia nestas possibilidades. Caso a info seja 'esqueleto' as query string tipo, nivel e formato não são consideradas. Caso o tipo seja definido as query strings nivel e formato não são consideradas. Caso tipo não seja definido e o nível seja definido (logo a query string considerada), a query string formato não é considerada. Por fim se não for definido tipo nem nivel e for definido formato esta é a query string considerada. Além disso, ao usar-se o parâmetro 'existeCodigo' e/ou 'existeTitulo' verifica se o código e/ou título já está presente numa classe"
parameters:
  - in: query
    name: existeCodigo
    schema:
      type: string
    description: 'Código da classe a verificar se já está presente (exemplo: 200.10.100)'
    required: false
  - in: query
    name: existeTitulo
    schema:
      type: string
    description: 'Título da classe a verificar se já está presente (exemplo: Definição de políticas conjuntas e de instrumentos de regulação)'
    required: false
  - in: query
    name: estrutura
    schema:
      type: string
      enum: [arvore, lista]
      default: arvore
    description: Estrutura. Pode ser em árvore ou em lista. Quanto nenhum parâmetro é definido (formato, tipo e nivel) o formato de saída em arvore é o predefinido.
    required: false
  - in: query
    name: tipo
    schema:
      type: string
      enum: [comum, especifico]
    description: Devolve as classes de nível 3 (processos) filtrando pelo tipo de processo (comuns ou especificos).
    required: false
  - in: query
    name: nivel
    schema:
      type: string
      enum: [1, 2, 3, 4]
    description: O nível dos processos devolvidos numa lista. Podem ser de 1º, 2º, 3º e 4º nível.
    required: false
  - in: query
    name: ents
    schema:
      type: string
    description: "Obtém os processos especificos destas entidades. Este parâmetro só deve ser usado quando o tipo é especifico. Exemplo de input: 'ent_AAN,ent_SEF'"
    required: false
  - in: query
    name: tips
    schema:
      type: string
    description: "Obtém os processos especificos destas tipologias. Este parâmetro só deve ser usado quando o tipo é especifico. Exemplo de input: 'tip_AAC,tip_AF'"
    required: false
  - in: query
    name: info
    schema:
      type: string
      enum: [completa, esqueleto]
    description: "Caso seja um valor que não 'completa' e 'esqueleto' devolve apenas o código, a descrição e o título das classes. Caso o valor seja 'completa' devolve toda a informação de cada classe. Caso o valor seja 'esqueleto' devolve numa estrutura pronta a ser preenchida para a criação de uma Tabela de Seleção, devolve os campos: código, título, descrição, PCA, DF dono (a ser preenchido pelo utilizador) e participante (a ser preenchido pelo utilizador)."
    required: false
  - $ref: '#/components/parameters/OutputFormatWithCSV'
responses:
  200:
    description: Devolve as classes em vários formatos podendo ser filtradas por nível ou verifica se um determinado código e/ou título existe numa classe
    content:
      application/json:
        schema:
          oneOf:
            - $ref: '#/components/schemas/ClasseSimplesArvore'
            - $ref: '#/components/schemas/ClasseSimplesLista'
            - $ref: '#/components/schemas/ClasseCompletaArvore'
            - $ref: '#/components/schemas/ClasseCompletaLista'
      json:
        schema:
          oneOf:
            - $ref: '#/components/schemas/ClasseSimplesArvore'
            - $ref: '#/components/schemas/ClasseSimplesLista'
            - $ref: '#/components/schemas/ClasseCompletaArvore'
            - $ref: '#/components/schemas/ClasseCompletaLista'
      application/xml:
        examples:
          xmlClassesSimplesArvore:
            $ref: '#/components/examples/ClassesSimplesArvoreXML'
          xmlClassesSimplesLista:
            $ref: '#/components/examples/ClassesSimplesListaXML'
          xmlClassesCompletaArvore:
            $ref: '#/components/examples/ClassesCompletaArvoreXML'
          xmlClassesCompletaLista:
            $ref: '#/components/examples/ClassesCompletaListaXML'
      xml:
        examples:
          xmlClassesSimplesArvore:
            $ref: '#/components/examples/ClassesSimplesArvoreXML'
          xmlClassesSimplesLista:
            $ref: '#/components/examples/ClassesSimplesListaXML'
          xmlClassesCompletaArvore:
            $ref: '#/components/examples/ClassesCompletaArvoreXML'
          xmlClassesCompletaLista:
            $ref: '#/components/examples/ClassesCompletaListaXML'
      text/csv:
        examples:
          csvClassesSimplesArvore:
            $ref: '#/components/examples/ClassesSimplesArvoreCSV'
          csvClassesSimplesLista:
            $ref: '#/components/examples/ClassesSimplesListaCSV'
          csvClassesCompletaArvore:
            $ref: '#/components/examples/ClassesCompletaArvoreCSV'
          csvClassesCompletaLista:
            $ref: '#/components/examples/ClassesCompletaListaCSV'
      csv:
        examples:
          csvClassesSimplesArvore:
            $ref: '#/components/examples/ClassesSimplesArvoreCSV'
          csvClassesSimplesLista:
            $ref: '#/components/examples/ClassesSimplesListaCSV'
          csvClassesCompletaArvore:
            $ref: '#/components/examples/ClassesCompletaArvoreCSV'
          csvClassesCompletaLista:
            $ref: '#/components/examples/ClassesCompletaListaCSV'
      excel/csv:
        examples:
          csvClassesSimplesArvore:
            $ref: '#/components/examples/ClassesSimplesArvoreExcelCSV'
          csvClassesSimplesLista:
            $ref: '#/components/examples/ClassesSimplesListaExcelCSV'
          csvClassesCompletaArvore:
            $ref: '#/components/examples/ClassesCompletaArvoreExcelCSV'
          csvClassesCompletaLista:
            $ref: '#/components/examples/ClassesCompletaListaExcelCSV'
  401:
    $ref: '#/components/responses/UnauthorizedKey'
  403:
    $ref: '#/components/responses/PermissionsKey'
  500:
    description: Erro
