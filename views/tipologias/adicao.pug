extends ../layout
block corpo
    #nova-tipologia-form.panel.panel-default.panel-custom
        .panel-heading
            h1.page-header Nova Tipologia
        .panel-body
            .form-group 
                table
                    //- Designação
                    tr
                        td(style="width:10%")
                            label Designação: 
                        td(style="width:80%")
                            input(
                                size="70"
                                v-model="tipologia.designacao"
                                maxlength="50"
                            )
                    //- Sigla        
                    tr
                        td(style="padding-top:10px")
                            label Sigla: 
                        td
                            input(
                                size="70"
                                v-model="tipologia.sigla"
                                maxlength="10"
                            )

                    //- Entidades
                    tr(style="padding-bottom:30px")
                        td(style="width: 10%")
                            label Entidades:

                        td
                            accordion
                                panel(type="white" header="Selecionar Entidades")
                                    custom-table-select(
                                        v-if="entReady"

                                        :header="entTableHeader"
                                        :complete-rows="ent"
                                        :ready="entReady"
                                        :cwidth="entTableWidth"
                                        
                                        class-table='table table-condensed'

                                        @select-clicked="entSelected($event,ent)"
                                    )
                                    h4(
                                        v-else
                                    ) A carregar...

            spinner(ref="spinner" fixed size="lg" text="Por favor aguarde...")

            input.btn.btn-xs.btn-default.col-sm-2(
                type="button" 
                @click="add" 
                value="Submeter" 
                :disabled="!(tipologia.designacao && tipologia.sigla)"
            )
            p.col-sm-7 {{ message }}
    //-

    

append scripts    
    script(src="/javascripts/tipologias/adicao.vue")