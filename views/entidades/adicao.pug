extends ../layout
block corpo
    #nova-entidade-form.panel.panel-default.panel-custom
        .panel-heading
            h1.page-header Nova Entidade  
        .panel-body
            .form-group 
                table.consulta(style="border-color: white; border-style:solid; margin-bottom:20px")
                    tr
                        td(style="width:10%")
                            .info-label Designação: 
                        td(style="width:80%")
                            input(
                                size="50"
                                v-model="designacao" 
                                maxlength="50"
                            )

                    tr
                        td(style="width:10%")
                            .info-label Sigla: 
                        td
                            input(size="50" v-model="sigla" maxlength="10")

                    tr
                        td(style="width:10%")
                            .info-label Internacional: 
                        td
                            select(v-model="internacional")
                                option(value="Sim") Sim
                                option(value="Não" selected) Não
                            
                    tr
                        td(style="width:10%")
                            .info-label SIOE: 
                        td
                            input(size="50" v-model="sioe" maxlength="12")

                    tr
                        td(style="width:10%")
                            .info-label Tipologias: 
                        td
                            select.col-sm-10(v-model="tip")
                                option(disabled selected value) Se pretender adicionar tipologias selecione uma de cada vez
                                option(v-for="t in tipologias" :value="t.id") {{t.sigla}} - {{t.designacao}}
                            input.btn.btn-xs.btn-default.col-sm-2(
                                type="button" 
                                @click="addTip" 
                                value="Adicionar" 
                            )
                            ul(v-if="tipologiasSel.length")
                                li(v-for="(t,index) in tipologiasSel") {{ t.sigla }} - {{ t.designacao }}
                                    button(
                                            @click="tipologiasSel.splice(index,1)"
                                            ) x

            spinner(ref="spinner" fixed size="lg" text="Por favor aguarde...")

            input.btn.btn-xs.btn-default.col-sm-2(
                type="button" 
                @click="add" 
                value="Submeter nova Entidade" 
                :disabled="!(designacao && sigla)"
            )
            div(v-html="message")
    //-

    

append scripts    
    script(src="/javascripts/entidades/adicao.vue")